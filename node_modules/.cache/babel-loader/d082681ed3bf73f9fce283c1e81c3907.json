{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      posts: [],\n      userIds: [],\n      userId: \"\",\n      originalPosts: []\n    };\n  },\n  mounted() {\n    this.getPosts();\n  },\n  methods: {\n    handleReset() {\n      this.getPosts();\n      this.userId = \"\";\n    },\n    handleSort() {\n      this.posts.sort((a, b) => {\n        if (a.title < b.title) {\n          return -1;\n        } else {\n          return 1;\n        }\n      });\n    },\n    handleGroupBy() {\n      const groupBy = (array, key) => {\n        return array.reduce((result, currentValue) => {\n          (result[currentValue[key]] = result[currentValue[key]] || []).push(currentValue);\n          return result;\n        }, {});\n      };\n      this.posts = this.originalPosts;\n      groupBy(this.posts, \"userId\");\n    },\n    handleFilter() {\n      this.posts = this.originalPosts;\n      if (this.userId === \"\") {\n        return;\n      }\n      this.posts = this.posts.filter(item => item.userId == this.userId);\n    },\n    getPosts() {\n      fetch(\"https://jsonplaceholder.typicode.com/posts\").then(response => response.json()).then(json => {\n        this.posts = json;\n        this.originalPosts = json;\n        console.log(this.originalPosts);\n        const ids = new Set();\n        for (const item of json) {\n          ids.add(item.userId);\n        }\n        this.userIds = Array.from(ids);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAmCA,eAAe;EACbA,IAAI,GAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE,EAAE;MACXC,MAAM,EAAE,EAAE;MACVC,aAAa,EAAE;IACjB,CAAC;EACH,CAAC;EACDC,OAAO,GAAG;IACR,IAAI,CAACC,QAAQ,EAAE;EACjB,CAAC;EACDC,OAAO,EAAE;IACPC,WAAW,GAAG;MACZ,IAAI,CAACF,QAAQ,EAAE;MACf,IAAI,CAACH,MAAK,GAAI,EAAE;IAClB,CAAC;IACDM,UAAU,GAAG;MACX,IAAI,CAACR,KAAK,CAACS,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;QACxB,IAAID,CAAC,CAACE,KAAI,GAAID,CAAC,CAACC,KAAK,EAAE;UACrB,OAAO,CAAC,CAAC;QACX,OAAO;UACL,OAAO,CAAC;QACV;MACF,CAAC,CAAC;IACJ,CAAC;IACDC,aAAa,GAAG;MAEd,MAAMC,OAAM,GAAI,CAACC,KAAK,EAAEC,GAAG,KAAK;QAC9B,OAAOD,KAAK,CAACE,MAAM,CAAC,CAACC,MAAM,EAAEC,YAAY,KAAK;UAC5C,CAACD,MAAM,CAACC,YAAY,CAACH,GAAG,CAAC,IAAIE,MAAM,CAACC,YAAY,CAACH,GAAG,CAAC,KAAK,EAAE,EAAEI,IAAI,CAChED,YAAW,CACZ;UACD,OAAOD,MAAM;QACf,CAAC,EAAE,CAAC,CAAC,CAAC;MACR,CAAC;MACD,IAAI,CAAClB,KAAI,GAAI,IAAI,CAACG,aAAa;MAE9BW,OAAO,CAAC,IAAI,CAACd,KAAK,EAAE,QAAQ,CAAC;IAChC,CAAC;IACDqB,YAAY,GAAG;MACb,IAAI,CAACrB,KAAI,GAAI,IAAI,CAACG,aAAa;MAC/B,IAAI,IAAI,CAACD,MAAK,KAAM,EAAE,EAAE;QACtB;MACF;MACA,IAAI,CAACF,KAAI,GAAI,IAAI,CAACA,KAAK,CAACsB,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACrB,MAAK,IAAK,IAAI,CAACA,MAAM,CAAC;IACtE,CAAC;IACDG,QAAQ,GAAG;MACTmB,KAAK,CAAC,4CAA4C,EAC/CC,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,EAClCF,IAAI,CAAEE,IAAI,IAAK;QACd,IAAI,CAAC3B,KAAI,GAAI2B,IAAI;QACjB,IAAI,CAACxB,aAAY,GAAIwB,IAAI;QACzBC,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC1B,aAAa,CAAC;QAC/B,MAAM2B,GAAE,GAAI,IAAIC,GAAG,EAAE;QACrB,KAAK,MAAMR,IAAG,IAAKI,IAAI,EAAE;UACvBG,GAAG,CAACE,GAAG,CAACT,IAAI,CAACrB,MAAM,CAAC;QACtB;QACA,IAAI,CAACD,OAAM,GAAIgC,KAAK,CAACC,IAAI,CAACJ,GAAG,CAAC;MAChC,CAAC,CAAC;IACN;EACF;AACF,CAAC","names":["data","posts","userIds","userId","originalPosts","mounted","getPosts","methods","handleReset","handleSort","sort","a","b","title","handleGroupBy","groupBy","array","key","reduce","result","currentValue","push","handleFilter","filter","item","fetch","then","response","json","console","log","ids","Set","add","Array","from"],"sourceRoot":"","sources":["/Users/yulong/Desktop/bandlab/src/views/pageOne.vue"],"sourcesContent":["<template>\n  <div class=\"page-1\">\n    <div class=\"func flex-row\">\n      <button @click.prevent=\"handleReset\">Reset</button>\n      <button @click.prevent=\"handleSort\">Sort Title</button>\n      <button @click.prevent=\"handleGroupBy\">Group by User Id</button>\n      <div class=\"flex-row\">\n        <span class=\"\">Filter By User Id: </span>\n        <div style=\"width: 1rem\"></div>\n        <select name=\"\" id=\"\" @change.prevent=\"handleFilter\" v-model=\"userId\">\n          <option value=\"\">All</option>\n          <option v-for=\"(item, index) in userIds\" :key=\"index\" :value=\"item\">\n            {{ item }}\n          </option>\n        </select>\n      </div>\n    </div>\n    <table>\n      <tr>\n        <th>Body</th>\n        <th>Id</th>\n        <th>Title</th>\n        <th>User Id</th>\n      </tr>\n      <tr v-for=\"(row, index) in posts\" :key=\"index\">\n        <td>{{ row.body }}</td>\n        <td>{{ row.id }}</td>\n        <td>{{ row.title }}</td>\n        <td>{{ row.userId }}</td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      posts: [],\n      userIds: [],\n      userId: \"\",\n      originalPosts: [],\n    };\n  },\n  mounted() {\n    this.getPosts();\n  },\n  methods: {\n    handleReset() {\n      this.getPosts();\n      this.userId = \"\";\n    },\n    handleSort() {\n      this.posts.sort((a, b) => {\n        if (a.title < b.title) {\n          return -1;\n        } else {\n          return 1;\n        }\n      });\n    },\n    handleGroupBy() {\n      \n      const groupBy = (array, key) => {\n        return array.reduce((result, currentValue) => {\n          (result[currentValue[key]] = result[currentValue[key]] || []).push(\n            currentValue\n          );\n          return result;\n        }, {}); \n      };\n      this.posts = this.originalPosts;\n\n       groupBy(this.posts, \"userId\");\n    },\n    handleFilter() {\n      this.posts = this.originalPosts;\n      if (this.userId === \"\") {\n        return;\n      }\n      this.posts = this.posts.filter((item) => item.userId == this.userId);\n    },\n    getPosts() {\n      fetch(\"https://jsonplaceholder.typicode.com/posts\")\n        .then((response) => response.json())\n        .then((json) => {\n          this.posts = json;\n          this.originalPosts = json;\n          console.log(this.originalPosts);\n          const ids = new Set();\n          for (const item of json) {\n            ids.add(item.userId);\n          }\n          this.userIds = Array.from(ids);\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"css\" scoped>\n.func {\n  justify-content: space-around;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}