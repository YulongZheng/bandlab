{"ast":null,"code":"import { withModifiers as _withModifiers, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-d3607ea6\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"page-1\"\n};\nconst _hoisted_2 = {\n  class: \"func flex-row\"\n};\nconst _hoisted_3 = {\n  class: \"flex-row\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"\"\n}, \"Filter By User Id: \", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"width\": \"1rem\"\n  }\n}, null, -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\"\n}, \"All\", -1 /* HOISTED */));\nconst _hoisted_7 = [\"value\"];\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Body\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Id\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Title\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"User Id\")], -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.handleReset && $options.handleReset(...args), [\"prevent\"]))\n  }, \"Reset\"), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.handleSort && $options.handleSort(...args), [\"prevent\"]))\n  }, \"Sort Title\"), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.handleGroupBy && $options.handleGroupBy(...args), [\"prevent\"]))\n  }, \"Group by User Id\"), _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _hoisted_5, _withDirectives(_createElementVNode(\"select\", {\n    name: \"\",\n    id: \"\",\n    onChange: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.handleFilter && $options.handleFilter(...args), [\"prevent\"])),\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.userId = $event)\n  }, [_hoisted_6, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.userIds, (item, index) => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: index,\n      value: item\n    }, _toDisplayString(item), 9 /* TEXT, PROPS */, _hoisted_7);\n  }), 128 /* KEYED_FRAGMENT */))], 544 /* HYDRATE_EVENTS, NEED_PATCH */), [[_vModelSelect, $data.userId]])])]), _createElementVNode(\"table\", null, [_hoisted_8, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.posts, (row, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"td\", null, _toDisplayString(row.body), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(row.id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(row.title), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(row.userId), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"mappings":";;;EACOA,KAAK,EAAC;AAAQ;;EACZA,KAAK,EAAC;AAAe;;EAInBA,KAAK,EAAC;AAAU;gEACnBC,oBAAyC;EAAnCD,KAAK,EAAC;AAAE,GAAC,qBAAmB;gEAClCC,oBAA+B;EAA1BC,KAAmB,EAAnB;IAAA;EAAA;AAAmB;gEAEtBD,oBAA6B;EAArBE,KAAK,EAAC;AAAE,GAAC,KAAG;;gEAQxBF,oBAKK,0BAJHA,oBAAa,YAAT,MAAI,gBACRA,oBAAW,YAAP,IAAE,gBACNA,oBAAc,YAAV,OAAK,gBACTA,oBAAgB,YAAZ,SAAO;;;uBArBjBG,oBA8BM,OA9BNC,UA8BM,GA7BJJ,oBAcM,OAdNK,UAcM,GAbJL,oBAAmD;IAA1CM,OAAK,wDAAUC,qDAAW;KAAE,OAAK,GAC1CP,oBAAuD;IAA9CM,OAAK,wDAAUC,mDAAU;KAAE,YAAU,GAC9CP,oBAAgE;IAAvDM,OAAK,wDAAUC,yDAAa;KAAE,kBAAgB,GACvDP,oBASM,OATNQ,UASM,GARJC,UAAyC,EACzCC,UAA+B,kBAC/BV,oBAKS;IALDW,IAAI,EAAC,EAAE;IAACC,EAAE,EAAC,EAAE;IAAEC,QAAM,wDAAUN,uDAAY;+DAAWO,YAAM;MAClEC,UAA6B,qBAC7BZ,oBAESa,6BAFuBF,aAAO,GAAvBG,IAAI,EAAEC,KAAK;yBAA3Bf,oBAES;MAFiCgB,GAAG,EAAED,KAAK;MAAGhB,KAAK,EAAEe;wBACzDA,IAAI;2FAHmDH,YAAM,SAQxEd,oBAaQ,gBAZNoB,UAKK,qBACLjB,oBAKKa,6BALsBF,WAAK,GAApBO,GAAG,EAAEH,KAAK;yBAAtBf,oBAKK;MAL8BgB,GAAG,EAAED;IAAK,IAC3ClB,oBAAuB,6BAAhBqB,GAAG,CAACC,IAAI,kBACftB,oBAAqB,6BAAdqB,GAAG,CAACT,EAAE,kBACbZ,oBAAwB,6BAAjBqB,GAAG,CAACE,KAAK,kBAChBvB,oBAAyB,6BAAlBqB,GAAG,CAACG,MAAM","names":["class","_createElementVNode","style","value","_createElementBlock","_hoisted_1","_hoisted_2","onClick","$options","_hoisted_3","_hoisted_4","_hoisted_5","name","id","onChange","$data","_hoisted_6","_Fragment","item","index","key","_hoisted_8","row","body","title","userId"],"sourceRoot":"","sources":["/Users/yulong/Desktop/bandlab/src/views/pageOne.vue"],"sourcesContent":["<template>\n  <div class=\"page-1\">\n    <div class=\"func flex-row\">\n      <button @click.prevent=\"handleReset\">Reset</button>\n      <button @click.prevent=\"handleSort\">Sort Title</button>\n      <button @click.prevent=\"handleGroupBy\">Group by User Id</button>\n      <div class=\"flex-row\">\n        <span class=\"\">Filter By User Id: </span>\n        <div style=\"width: 1rem\"></div>\n        <select name=\"\" id=\"\" @change.prevent=\"handleFilter\" v-model=\"userId\">\n          <option value=\"\">All</option>\n          <option v-for=\"(item, index) in userIds\" :key=\"index\" :value=\"item\">\n            {{ item }}\n          </option>\n        </select>\n      </div>\n    </div>\n    <table>\n      <tr>\n        <th>Body</th>\n        <th>Id</th>\n        <th>Title</th>\n        <th>User Id</th>\n      </tr>\n      <tr v-for=\"(row, index) in posts\" :key=\"index\">\n        <td>{{ row.body }}</td>\n        <td>{{ row.id }}</td>\n        <td>{{ row.title }}</td>\n        <td>{{ row.userId }}</td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      posts: [],\n      userIds: [],\n      userId: \"\",\n      originalPosts: [],\n    };\n  },\n  mounted() {\n    this.getPosts();\n  },\n  methods: {\n    handleReset() {\n      this.getPosts();\n      this.userId = \"\";\n    },\n    handleSort() {\n      this.posts.sort((a, b) => {\n        if (a.title < b.title) {\n          return -1;\n        } else {\n          return 1;\n        }\n      });\n    },\n    handleGroupBy() {\n      \n      const groupBy = (array, key) => {\n        return array.reduce((result, currentValue) => {\n          (result[currentValue[key]] = result[currentValue[key]] || []).push(\n            currentValue\n          );\n\n          return result;\n        }, {}); \n      };\n      this.posts = this.originalPosts;\n\n      console.log(Object.values(groupBy(this.posts, \"userId\")).flat() ) ;\n    },\n    handleFilter() {\n      this.posts = this.originalPosts;\n      if (this.userId === \"\") {\n        return;\n      }\n      this.posts = this.posts.filter((item) => item.userId == this.userId);\n    },\n    getPosts() {\n      fetch(\"https://jsonplaceholder.typicode.com/posts\")\n        .then((response) => response.json())\n        .then((json) => {\n          this.posts = json;\n          this.originalPosts = json;\n          console.log(this.originalPosts);\n          const ids = new Set();\n          for (const item of json) {\n            ids.add(item.userId);\n          }\n          this.userIds = Array.from(ids);\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"css\" scoped>\n.func {\n  justify-content: space-around;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}